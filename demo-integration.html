<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>coreFORCE Checkout Integration Demo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .coreforce-header {
            background: #2c3e50;
            color: white;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
        }
        .checkout-container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .integration-info {
            background: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }
        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="coreforce-header">
        <h1>üè™ coreFORCE Store</h1>
        <p>Demo of React Checkout Integration</p>
    </div>

    <div class="integration-info">
        <h3>üîó Integration Information</h3>
        <p>This demo shows how the React checkout app integrates with coreFORCE's <code>getShoppingCartItems()</code> function.</p>
        
        <h4>How it works:</h4>
        <ol>
            <li>The coreFORCE page provides a <code>getShoppingCartItems()</code> function</li>
            <li>The React app calls this function to get cart data</li>
            <li>Cart data is transformed and displayed in the React interface</li>
            <li>All coreFORCE-specific data (promotions, discounts, etc.) is preserved</li>
        </ol>
    </div>

    <div class="checkout-container">
        <h2>üõí Embedded React Checkout App</h2>
        <p>Below is where the React checkout app would be embedded:</p>
        
        <div id="react-checkout-root">
            <!-- React app will be mounted here -->
            <div style="text-align: center; padding: 40px; color: #666;">
                <div style="font-size: 48px; margin-bottom: 20px;">‚ö°</div>
                <h3>React Checkout App</h3>
                <p>This would be replaced with the actual React application</p>
                <p>Check the browser console to see the coreFORCE data being loaded</p>
            </div>
        </div>
    </div>

    <div class="integration-info">
        <h3>üìã Implementation Steps</h3>
        
        <h4>1. Build the React app for production:</h4>
        <div class="code-block">
npm run build
        </div>
        
        <h4>2. Include the built files in your coreFORCE page:</h4>
        <div class="code-block">
&lt;!-- Add to your coreFORCE page head --&gt;
&lt;link rel="stylesheet" href="dist/assets/index-[hash].css"&gt;

&lt;!-- Add to your coreFORCE page body --&gt;
&lt;div id="react-checkout-root"&gt;&lt;/div&gt;
&lt;script src="dist/assets/index-[hash].js"&gt;&lt;/script&gt;
        </div>
        
        <h4>3. Ensure getShoppingCartItems() is available:</h4>
        <div class="code-block">
&lt;script&gt;
// This function should be provided by coreFORCE
window.getShoppingCartItems = function() {
    return {
        "order_upsell_products": {...},
        "shopping_cart_items": [...],
        "promotion_code": "OVER100",
        "discount_amount": "20.00",
        // ... rest of the cart data
    };
};
&lt;/script&gt;
        </div>
    </div>

    <script>
        // Simulate the coreFORCE getShoppingCartItems function
        window.getShoppingCartItems = function() {
            console.log('üîÑ coreFORCE getShoppingCartItems() called');
            
            // Return the comprehensive data structure with firearms and shipping options
            return {
                "order_upsell_products": {
                    "91349152": {
                        "product_id": 91349152,
                        "description": "Discrete Packaging",
                        "quantity": 3,
                        "sale_price": "3.00",
                        "total_cost": "9.00",
                        "required": false,
                        "checked": ""
                    },
                    "91349153": {
                        "product_id": 91349153,
                        "description": "Insurance",
                        "quantity": 1,
                        "sale_price": "43.26",
                        "total_cost": "43.26",
                        "required": false,
                        "checked": ""
                    }
                },
                "estimated_shipping_charge": "41.95",
                "default_location_id": "",
                "jquery_templates": "",
                "custom_field_data": [],
                "total_savings": "79.05",
                "retail_agreements": [],
                "shipping_required": true,
                "pickup_locations": false,
                "valid_payment_methods": "297,361,595,710,711,712,713,722,723,724",
                "shopping_cart_items": [
                    {
                        "shopping_cart_item_id": 1839695,
                        "shopping_cart_id": 79655841,
                        "product_id": 91958627,
                        "description": "Test Item Variation 0722 Red",
                        "location_id": "",
                        "serial_number": "",
                        "time_submitted": "2025-07-25 00:44:53",
                        "quantity": 1,
                        "sale_price": "100.00",
                        "promotion_id": "",
                        "version": 1,
                        "product_addons": [],
                        "addon_count": 0,
                        "promotion_requirements": 0,
                        "order_upsell_product": false,
                        "price_calculation": "Using pricing structure: Default Pricing Structure\nProduct ID: 91958627 - Test Item Variation 0722 Red\nClient Sale Price Found: 100\nFinal calculated Sale Price is: 100\n",
                        "product_tag_ids": "",
                        "original_sale_price": "",
                        "unit_price": "100.00",
                        "map_policy": "",
                        "product_code": "TEST_ITEM_VARIATION_0722_RED",
                        "upc_code": "",
                        "manufacturer_sku": "",
                        "model": "",
                        "list_price": "0.00",
                        "small_image_url": "",
                        "image_url": "",
                        "base_cost": "30.00",
                        "discount": "",
                        "savings": "",
                        "inventory_quantity": 90,
                        "product_restrictions": "",
                        "shipping_options": {
                            "pickup": false,
                            "ship_to_store": false,
                            "ship_to_home": false,
                            "ship_to_ffl": false
                        },
                        "pickup": "",
                        "ship_to_store": "",
                        "ship_to_home": "",
                        "ship_to_ffl": "",
                        "cart_maximum": "",
                        "cart_minimum": "",
                        "no_online_order": 0,
                        "custom_fields": "",
                        "custom_field_classes": "",
                        "item_addons": "",
                        "addon_classes": "",
                        "other_classes": ""
                    },
                    {
                        "shopping_cart_item_id": 1839696,
                        "shopping_cart_id": 79655841,
                        "product_id": 91957734,
                        "description": "USED GLOCK 43 PISTOL 9MM 2-6RD MAGS EXCELLENT COND.",
                        "location_id": "",
                        "serial_number": "",
                        "time_submitted": "2025-07-25 01:06:08",
                        "quantity": 1,
                        "sale_price": "395.95",
                        "promotion_id": "",
                        "version": 1,
                        "product_addons": [],
                        "addon_count": 0,
                        "promotion_requirements": 0,
                        "order_upsell_product": false,
                        "price_calculation": "Using pricing structure: Firearms\nProduct ID: 91957734 - USED GLOCK 43 PISTOL 9MM 2-6RD MAGS EXCELLENT COND.\nNo Client Sale Price Found\nReference Price: 359.95\nDiscount range found: 99.00 - 499.00. Price discount: 10.0000\nStarting Percentage used: 10\nBase Cost: 359.95\nPercent Markup: 10\nSale Price: 395.95\nSale Price after rounding rules: 395.95\n",
                        "product_tag_ids": "715",
                        "original_sale_price": "475.00",
                        "unit_price": "395.95",
                        "map_policy": "STRICT",
                        "product_code": "Z4_GHG4938X",
                        "upc_code": "787450540255",
                        "manufacturer_sku": "",
                        "model": "",
                        "list_price": "475.00",
                        "small_image_url": "https://range-test.coreware.com/cache/image-small-386986-0755e42dbde8b329cc777d0f5c9c0406.webp",
                        "image_url": "https://range-test.coreware.com/cache/image-full-386986-0755e42dbde8b329cc777d0f5c9c0406.webp",
                        "base_cost": "359.95",
                        "discount": "17%",
                        "savings": "79.05",
                        "inventory_quantity": 21,
                        "product_restrictions": "",
                        "shipping_options": {
                            "pickup": false,
                            "ship_to_store": false,
                            "ship_to_home": true,
                            "ship_to_ffl": false
                        },
                        "pickup": "",
                        "ship_to_store": "",
                        "ship_to_home": "shipping-option-ship-to-home",
                        "ship_to_ffl": "",
                        "cart_maximum": "",
                        "cart_minimum": "",
                        "no_online_order": 0,
                        "custom_fields": "",
                        "custom_field_classes": "",
                        "item_addons": "",
                        "addon_classes": "",
                        "other_classes": "product-tag-new_product"
                    },
                    {
                        "shopping_cart_item_id": 1839697,
                        "shopping_cart_id": 79655841,
                        "product_id": 91957598,
                        "description": "RUGER RXM 9MM PISTOL 4\" AMERICAN FLAG O.R. 2-15RD MAGS - ORION EXCLUSIVE",
                        "location_id": "",
                        "serial_number": "",
                        "time_submitted": "2025-07-25 01:10:24",
                        "quantity": 1,
                        "sale_price": "469.28",
                        "promotion_id": "",
                        "version": 1,
                        "product_addons": [],
                        "addon_count": 0,
                        "promotion_requirements": 0,
                        "order_upsell_product": false,
                        "price_calculation": "Using pricing structure: Firearms\nProduct ID: 91957598 - RUGER RXM 9MM PISTOL 4\" AMERICAN FLAG O.R. 2-15RD MAGS - ORION EXCLUSIVE\nNo Client Sale Price Found\nReference Price: 419.00\nDiscount range found: 99.00 - 499.00. Price discount: 10.0000\nSurcharge for distributor 'Orion': 2.0000\nIncluded distributor surcharge percentage: 2\nStarting Percentage used: 12\nBase Cost: 419\nPercent Markup: 12\nSale Price: 469.28\nSale Price after rounding rules: 469.28\n",
                        "product_tag_ids": "457,715",
                        "original_sale_price": "",
                        "unit_price": "469.28",
                        "map_policy": "CART_PRICE",
                        "product_code": "O17_RUGE19400-FLAG",
                        "upc_code": "756542285992",
                        "manufacturer_sku": "19400-FLAG",
                        "model": "RXM",
                        "list_price": "419.00",
                        "small_image_url": "https://range-test.coreware.com/cache/image-small-386556-5d268d52e3177a9f99c4a4afc7b0a755.webp",
                        "image_url": "https://range-test.coreware.com/cache/image-full-386556-5d268d52e3177a9f99c4a4afc7b0a755.webp",
                        "base_cost": "419.00",
                        "discount": "",
                        "savings": "",
                        "inventory_quantity": 54,
                        "product_restrictions": "",
                        "shipping_options": {
                            "pickup": false,
                            "ship_to_store": false,
                            "ship_to_home": false,
                            "ship_to_ffl": true
                        },
                        "pickup": "",
                        "ship_to_store": "",
                        "ship_to_home": "",
                        "ship_to_ffl": "shipping-option-ship-to-ffl",
                        "cart_maximum": "",
                        "cart_minimum": "",
                        "no_online_order": 0,
                        "custom_fields": "",
                        "custom_field_classes": "",
                        "item_addons": "",
                        "addon_classes": "",
                        "other_classes": "product-tag-ffl_required product-tag-new_product"
                    }
                ],
                "promotion_code": "OVER100",
                "promotion_id": 1,
                "promotion_code_description": "Over 100 Discount",
                "promotion_code_details": "",
                "discount_amount": "0.00",
                "discount_percent": "20.00",
                "shopping_cart_item_count": 3,
                "loyalty_points_awarded": "This purchase will add 10 loyalty points to your account.",
                "analytics_event": {
                    "event": "load_cart",
                    "event_data": {
                        "items": []
                    }
                }
            };
        };

        // Log when the page loads
        console.log('üöÄ Demo page loaded');
        console.log('üì¶ coreFORCE getShoppingCartItems function is available');
        console.log('üõí Call window.getShoppingCartItems() to see the cart data');
        
        // Demonstrate the function call
        setTimeout(() => {
            const cartData = window.getShoppingCartItems();
            console.log('üìã Cart data loaded:', cartData);
            console.log('üí∞ Total items:', cartData.shopping_cart_items.length);
            console.log('üé´ Promotion code:', cartData.promotion_code);
            console.log('üí≥ Valid payment methods:', cartData.valid_payment_methods);
        }, 1000);
    </script>
</body>
</html> 